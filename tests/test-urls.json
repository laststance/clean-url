{
  "basic_utm": {
    "original": "https://example.com?utm_source=google&utm_medium=cpc&utm_campaign=spring_sale",
    "expected": "https://example.com/",
    "expectedRemovedCount": 3,
    "description": "Basic UTM parameters removal"
  },
  "facebook_tracking": {
    "original": "https://example.com/article?fbclid=IwAR0abc123def456",
    "expected": "https://example.com/article",
    "expectedRemovedCount": 1,
    "description": "Facebook Click ID removal"
  },
  "mixed_parameters": {
    "original": "https://shop.example.com/products?category=shoes&utm_source=newsletter&color=red&fbclid=123",
    "expected": "https://shop.example.com/products?category=shoes&color=red",
    "expectedRemovedCount": 2,
    "description": "Mixed tracking and legitimate parameters"
  },
  "convertkit_newsletter": {
    "original": "https://www.premieroctet.com/blog/en/tanstack-future-react-frameworks?ck_subscriber_id=1234567890",
    "expected": "https://www.premieroctet.com/blog/en/tanstack-future-react-frameworks",
    "expectedRemovedCount": 1,
    "description": "ConvertKit subscriber ID removal"
  },
  "github_with_tracking": {
    "original": "https://github.com/modelcontextprotocol/use-mcp?ck_subscriber_id=abcdef123&utm_source=email",
    "expected": "https://github.com/modelcontextprotocol/use-mcp",
    "expectedRemovedCount": 2,
    "description": "GitHub URL with multiple tracking parameters"
  },
  "complex_url_with_fragment": {
    "original": "https://plainvanillaweb.com/blog/articles/2025-06-12-view-transitions/?ck_subscriber_id=xyz789&utm_medium=social#section-intro",
    "expected": "https://plainvanillaweb.com/blog/articles/2025-06-12-view-transitions/#section-intro",
    "expectedRemovedCount": 2,
    "description": "Complex URL with tracking parameters and hash fragment"
  },
  "google_click_id": {
    "original": "https://store.example.com?gclid=TeSter-123_abc.def&product=laptop",
    "expected": "https://store.example.com/?product=laptop",
    "expectedRemovedCount": 1,
    "description": "Google Click ID with legitimate parameter"
  },
  "multiple_social_trackers": {
    "original": "https://news.example.com/article?fbclid=fb123&igshid=ig456&ttclid=tt789&li_fat_id=li012",
    "expected": "https://news.example.com/article",
    "expectedRemovedCount": 4,
    "description": "Multiple social media tracking parameters"
  },
  "email_marketing_trackers": {
    "original": "https://newsletter.example.com/campaign?mc_cid=mailchimp123&mc_eid=email456&ck_subscriber_id=convert789",
    "expected": "https://newsletter.example.com/campaign",
    "expectedRemovedCount": 3,
    "description": "Email marketing tracking parameters"
  },
  "affiliate_trackers": {
    "original": "https://affiliate.example.com/product?ref=partner&affiliate_id=12345&click_id=abc123&subid=xyz789",
    "expected": "https://affiliate.example.com/product",
    "expectedRemovedCount": 4,
    "description": "Affiliate and referral tracking parameters"
  },
  "no_tracking_params": {
    "original": "https://clean.example.com/page?category=tech&sort=date&page=2",
    "expected": "https://clean.example.com/page?category=tech&sort=date&page=2",
    "expectedRemovedCount": 0,
    "description": "URL with no tracking parameters (should remain unchanged)"
  },
  "only_fragment": {
    "original": "https://example.com/docs#installation",
    "expected": "https://example.com/docs#installation",
    "expectedRemovedCount": 0,
    "description": "URL with only hash fragment (no parameters)"
  },
  "empty_parameter_values": {
    "original": "https://example.com?utm_source=&utm_medium=email&normal_param=value",
    "expected": "https://example.com/?normal_param=value",
    "expectedRemovedCount": 2,
    "description": "Tracking parameters with empty values"
  },
  "case_sensitivity": {
    "original": "https://example.com?UTM_SOURCE=Google&utm_MEDIUM=CPC&FBCLID=test123",
    "expected": "https://example.com/",
    "expectedRemovedCount": 3,
    "description": "Case insensitive tracking parameter removal"
  },
  "malformed_parameters": {
    "original": "https://example.com?utm_source=test&&&utm_medium=cpc&valid=param",
    "expected": "https://example.com/?valid=param",
    "expectedRemovedCount": 2,
    "description": "Malformed URL parameters"
  },
  "very_long_url": {
    "original": "https://example.com/very/long/path/with/many/segments?utm_source=very_long_source_parameter_value_that_goes_on_and_on&utm_medium=extremely_long_medium_parameter&utm_campaign=super_duper_long_campaign_name_with_lots_of_details&normal_param=short&utm_content=more_very_long_content_parameter_data",
    "expected": "https://example.com/very/long/path/with/many/segments?normal_param=short",
    "expectedRemovedCount": 4,
    "description": "Very long URL with long tracking parameters"
  },
  "special_characters": {
    "original": "https://example.com/search?q=hello%20world&utm_source=test%2Bsource&utm_medium=email%40campaign",
    "expected": "https://example.com/search?q=hello+world",
    "expectedRemovedCount": 2,
    "description": "URL with special characters and encoding"
  },
  "international_domain": {
    "original": "https://例え.テスト/path?utm_source=international&param=value&fbclid=intl123",
    "expected": "https://xn--r8jz45g.xn--zckzah/path?param=value",
    "expectedRemovedCount": 2,
    "description": "International domain with tracking parameters (Punycode encoded)"
  },
  "port_number": {
    "original": "https://localhost:3000/app?utm_source=local&port=3000&utm_medium=test",
    "expected": "https://localhost:3000/app?port=3000",
    "expectedRemovedCount": 2,
    "description": "URL with port number and tracking parameters"
  },
  "subdomain": {
    "original": "https://api.staging.example.com/v1/data?utm_source=api&version=1&utm_campaign=test",
    "expected": "https://api.staging.example.com/v1/data?version=1",
    "expectedRemovedCount": 2,
    "description": "Subdomain URL with tracking parameters"
  },
  "devongovett_blog": {
    "original": "https://devongovett.me/blog/scope-hoisting.html?ck_subscriber_id=1866526852&utm_source=convertkit&utm_medium=email&utm_campaign=%E2%9A%9B%EF%B8%8F%20This%20Week%20In%20React%20#242:%20Vite%20RSC,%20Next.js,%20NuxtLabs,%20shadcn,%20TanStack,%20Valtio,%20XState,%20RHF%20%7C%20Unistyles,%20Rag,%20Shadow%20Insets,%20Ignite,%20Metro,%20RN%200.81%20RC%20%7C%20TypeScript,%20CSS%20Gaps,%20Browserlist-rs,%20Biome,%20Astro,%20esbuild%20-%2018236230",
    "expected": "https://devongovett.me/blog/scope-hoisting.html",
    "expectedRemovedCount": 4,
    "description": "DevonGovett blog with ConvertKit and UTM tracking"
  },
  "frontendmasters_blog": {
    "original": "https://frontendmasters.com/blog/satisfies-in-typescript/?ck_subscriber_id=1866526852&utm_source=convertkit&utm_medium=email&utm_campaign=%E2%9A%9B%EF%B8%8F%20This%20Week%20In%20React%20#242:%20Vite%20RSC,%20Next.js,%20NuxtLabs,%20shadcn,%20TanStack,%20Valtio,%20XState,%20RHF%20%7C%20Unistyles,%20Rag,%20Shadow%20Insets,%20Ignite,%20Metro,%20RN%200.81%20RC%20%7C%20TypeScript,%20CSS%20Gaps,%20Browserlist-rs,%20Biome,%20Astro,%20esbuild%20-%2018236230",
    "expected": "https://frontendmasters.com/blog/satisfies-in-typescript/",
    "expectedRemovedCount": 4,
    "description": "Frontend Masters blog with ConvertKit and UTM tracking"
  },
  "shadcn_docs": {
    "original": "https://ui.shadcn.com/docs/changelog?ck_subscriber_id=1866526852&utm_source=convertkit&utm_medium=email&utm_campaign=%E2%9A%9B%EF%B8%8F%20This%20Week%20In%20React%20#242:%20Vite%20RSC,%20Next.js,%20NuxtLabs,%20shadcn,%20TanStack,%20Valtio,%20XState,%20RHF%20%7C%20Unistyles,%20Rag,%20Shadow%20Insets,%20Ignite,%20Metro,%20RN%200.81%20RC%20%7C%20TypeScript,%20CSS%20Gaps,%20Browserlist-rs,%20Biome,%20Astro,%20esbuild%20-%2018236230",
    "expected": "https://ui.shadcn.com/docs/changelog",
    "expectedRemovedCount": 4,
    "description": "Shadcn UI documentation with ConvertKit and UTM tracking"
  },
  "github_issue": {
    "original": "https://github.com/vitejs/vite-plugin-react/issues/531?ck_subscriber_id=1866526852&utm_source=convertkit&utm_medium=email&utm_campaign=%E2%9A%9B%EF%B8%8F%20This%20Week%20In%20React%20#242:%20Vite%20RSC,%20Next.js,%20NuxtLabs,%20shadcn,%20TanStack,%20Valtio,%20XState,%20RHF%20%7C%20Unistyles,%20Rag,%20Shadow%20Insets,%20Ignite,%20Metro,%20RN%200.81%20RC%20%7C%20TypeScript,%20CSS%20Gaps,%20Browserlist-rs,%20Biome,%20Astro,%20esbuild%20-%2018236230",
    "expected": "https://github.com/vitejs/vite-plugin-react/issues/531",
    "expectedRemovedCount": 4,
    "description": "GitHub issue with ConvertKit and UTM tracking"
  },
  "56kode_blog": {
    "original": "https://www.56kode.com/posts/level-up-react-deep-dive-into-state-and-usestate/?ck_subscriber_id=1866526852&utm_source=convertkit&utm_medium=email&utm_campaign=%E2%9A%9B%EF%B8%8F%20This%20Week%20In%20React%20#242:%20Vite%20RSC,%20Next.js,%20NuxtLabs,%20shadcn,%20TanStack,%20Valtio,%20XState,%20RHF%20%7C%20Unistyles,%20Rag,%20Shadow%20Insets,%20Ignite,%20Metro,%20RN%200.81%20RC%20%7C%20TypeScript,%20CSS%20Gaps,%20Browserlist-rs,%20Biome,%20Astro,%20esbuild%20-%2018236230",
    "expected": "https://www.56kode.com/posts/level-up-react-deep-dive-into-state-and-usestate/",
    "expectedRemovedCount": 4,
    "description": "56kode blog with ConvertKit and UTM tracking"
  },
  "gemini_storybook": {
    "original": "https://gemini.google.com/gem/storybook?utm_source=gemini&utm_medium=email&utm_campaign=august_classic_storybook",
    "expected": "https://gemini.google.com/gem/storybook",
    "expectedRemovedCount": 3,
    "description": "Gemini Storybook page with UTM tracking"
  },
  "uppy_io_bhlid": {
    "original": "https://uppy.io/?_bhlid=792bd92a7e6c3ed99340d3aa3df7a8d920d124c4",
    "expected": "https://uppy.io/",
    "expectedRemovedCount": 1,
    "description": "Uppy.io with _bhlid tracking parameter"
  },
  "steelcase_google_ads": {
    "original": "https://jp.steelcase.com/products/gesture?variant=43617303953575&country=JP&currency=JPY&gad_source=1&gad_campaignid=20006137389&gbraid=0AAAAAo1uSY1vbFGLS4q9E-MniPCO4J3hQ",
    "expected": "https://jp.steelcase.com/products/gesture?variant=43617303953575&country=JP&currency=JPY",
    "expectedRemovedCount": 3,
    "description": "Steelcase product URL with Google Ads tracking parameters"
  },
  "mixpanel_google_ads_search_issue_1": {
    "original": "https://mixpanel.com/compare/posthog/?utm_source=google&utm_medium=ppc&utm_campaign=APAC-Competitive-Search-EN-Exact-All-Devices&utm_source=google&utm_medium=cpc&utm_campaign=APAC-Competitive-Search-EN-Exact-All-Devices&utm_content=PostHog&utm_ad=766540614712&utm_term=posthog&matchtype=e&campaign_id=22010460477&ad_id=766540614712&gclid=CjwKCAjwlaTGBhANEiwAoRgXBU1m6NTENxdBAyV7Uj4boyYa-0xpOW9Suhq89T7ZTV7nv0drZKwK8hoCh_0QAvD_BwE&gad_source=1&gad_campaignid=22010460477&gbraid=0AAAAAD85aTZffck7MiJP3pnt5uLyOHmYK",
    "expected": "https://mixpanel.com/compare/posthog/",
    "expectedRemovedCount": 16,
    "description": "GitHub Issue #1 - Comprehensive Google Ads search URL with utm_ad, matchtype, campaign_id, ad_id parameters (duplicate utm params counted once)"
  },
  "logrocket_blog_with_hash_tracking": {
    "original": "https://blog.logrocket.com/the-next-era-of-react/?ck_subscriber_id=1866526852&utm_source=convertkit&utm_medium=email&utm_campaign=%E2%9A%9B%EF%B8%8F%20This%20Week%20In%20React%20#ck_subscriber_id%3D1866526852%26utm_source%3Dconvertkit%26utm_medium%3Demail%26utm_campaign%3D%25E2%259A%259B%25EF%25B8%258F%2520This%2520Week%2520In%2520React%2520",
    "expected": "https://blog.logrocket.com/the-next-era-of-react/",
    "expectedRemovedCount": 4,
    "description": "LogRocket blog with tracking params in both query string AND URL-encoded in hash fragment"
  },
  "amazon_product_with_affiliate": {
    "original": "https://www.amazon.com/dp/B09V3KXJPB?tag=example-20&linkCode=ogi&th=1&psc=1",
    "expected": "https://www.amazon.com/dp/B09V3KXJPB?th=1&psc=1",
    "expectedRemovedCount": 2,
    "description": "Amazon product URL with affiliate tag and linkCode"
  },
  "amazon_product_full_tracking": {
    "original": "https://www.amazon.co.jp/dp/B0DCMFWCZT?tag=myaffiliate-22&linkCode=ogi&ascsubtag=abc123&camp=247&creative=1211&pd_rd_i=B0DCMFWCZT&pd_rd_r=12345&pd_rd_w=abcde&pd_rd_wg=xyz123",
    "expected": "https://www.amazon.co.jp/dp/B0DCMFWCZT",
    "expectedRemovedCount": 9,
    "description": "Amazon product URL with all tracking parameters"
  },
  "amazon_search_with_tracking": {
    "original": "https://www.amazon.com/s?k=headphones&tag=partner-20&linkId=abcd1234",
    "expected": "https://www.amazon.com/s?k=headphones",
    "expectedRemovedCount": 2,
    "description": "Amazon search URL with affiliate tracking"
  }
}